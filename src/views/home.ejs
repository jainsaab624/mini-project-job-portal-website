<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<div class="container-1">
  <main class="container main">
    <div class="left p-2">
      <h1 style="color: #e03c91">A comprehensive platform for reliable</h1>
      <h3 style="color: white" class="ml12">
        Job opportunities and internships
      </h3>
      <p style="color: #9a97bb">Get discovered Get hired</p>

      <div class="actions">
        <a href="/alljob">
          <button
            type="button"
            class="btn btn-primary"
            style="background-color: #e03c91"
          >
            I am a job seeker
          </button>
        </a>

        <%if(userEmail){%>
        <a href="/alljob">
          <button
            type="button"
            class="btn btn-primary"
            style="background-color: #e03c91"
          >
            I am a recruiter
          </button>
        </a>
        <%}else{%>
        <button
          type="button"
          class="btn btn-primary"
          data-bs-toggle="modal"
          data-bs-target="#registeration-form"
          style="background-color: #e03c91"
        >
          I am a recruiter
        </button>
        <% }%>
      </div>
    </div>
    <div class="right">
      <img src="/images/banner.png" alt="" />
    </div>
    <div
      class="modal fade"
      id="registeration-form"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">
              Experience easily
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <!-- registeration of user -->

          <div class="modal-body">
            <% if (errors && errors.length > 0) { %>
            <div class="alert alert-danger" role="alert">
              <% errors.forEach(error => { %>
              <p><%= error %></p>
              <% }); %>
            </div>
            <% } %>
            <form action="/register" method="post">
              <div class="container">
                <label for="name"><b>Name</b></label>
                <input
                  type="text"
                  placeholder="Enter Name"
                  name="name"
                  id="name"
                />
                <label for="email"><b>Email</b></label>
                <input
                  type="text"
                  placeholder="Enter Email"
                  name="email"
                  id="email"
                />

                <label for="password"><b>Password</b></label>
                <input
                  type="password"
                  placeholder="Enter Password"
                  name="password"
                  id="password"
                />

                <p>
                  By creating an account you agree to our
                  <a href="#">Terms & Privacy</a>.
                </p>
                <button type="submit" class="registerbtn">Register</button>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <p id="margin">
              Already registered?

              <button
                type="button"
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#login-form"
              >
                login
              </button>
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- modal for login form -->
    <div
      class="modal fade"
      id="login-form"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">
              Experience easily
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <!-- registeration of user -->
          <div class="modal-body">
            <form action="/login" method="post">
              <div class="container">
                <label for="email"><b>Email</b></label>
                <input
                  type="text"
                  placeholder="Enter Email"
                  name="email"
                  id="email"
                  required
                />

                <label for="password"><b>Password</b></label>
                <input
                  type="password"
                  placeholder="Enter Password"
                  name="password"
                  id="password"
                  required
                />

                <button type="submit" class="registerbtn">login</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <% if (errors && errors.length > 0) { %>
      <script>
        $(document).ready(function () {
          $("#registeration-form").modal("show");
          window.history.replaceState({}, document.title, "/");
        });
      </script>
      <% } %>
    </div>
  </main>
</div>

<script>
  let textWrapper = document.querySelector(".ml12");
  textWrapper.innerHTML = textWrapper.textContent.replace(
    /\S/g,
    "<span class='letter'>$&</span>"
  );

  anime
    .timeline({ loop: true })
    .add({
      targets: ".ml12 .letter",
      translateX: [40, 0],
      translateZ: 0,
      opacity: [0, 1],
      easing: "easeOutExpo",
      duration: 1200,
      delay: (el, i) => 500 + 30 * i,
    })
    .add({
      targets: ".ml12 .letter",
      translateX: [0, -30],
      opacity: [1, 0],
      easing: "easeInExpo",
      duration: 1100,
      delay: (el, i) => 100 + 30 * i,
    });
</script>
